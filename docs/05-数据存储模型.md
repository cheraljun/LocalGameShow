# 数据存储模型

## 文件系统即数据库

LocalGame 完全不依赖数据库，所有数据存储在 JSON 文件中。

## 目录结构

```
data/
├── system/                          # 系统数据
│   ├── users.json                   # 用户列表
│   ├── pending_registrations.json   # 待验证注册
│   ├── login_codes.json             # 登录验证码
│   ├── rate_limits.json             # 限流记录
│   ├── announcement_published.json  # 公告（已发布）
│   └── bulletin_published.json      # 通告（已发布）
├── chat/messages.json               # 留言记录
└── users/{user_folder}/             # 每个用户独立文件夹
```

## 读写模式

```python
# 加载数据
def load_users() -> List[Dict]:
    with open(USERS_FILE, 'r', encoding='utf-8') as f:
        return json.load(f).get('users', [])

# 保存数据
def save_users(users: List[Dict]):
    with open(USERS_FILE, 'w', encoding='utf-8') as f:
        json.dump({'users': users}, f, ensure_ascii=False, indent=2)
```

**优势**：零配置、易备份、易迁移、易调试
