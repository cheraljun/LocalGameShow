# 游戏管理流程

## 上传流程

1. 用户点击"上传游戏"
2. 填写表单：标题（必填）、介绍（可选）、HTML文件（必填）、缩略图（必填）
3. 后端保存为草稿状态
4. 返回"我的游戏"页面

## 发布机制

```python
# 核心逻辑：backend/routers/game.py
@router.post("/{game_id}/publish")
async def publish_game(game_id: str, user: dict):
    draft = read_draft(user['folder'], game_id)
    write_published(user['folder'], draft)
    return {"success": True}
```

**特性**：
- 发布后草稿和发布区都保留
- 可以继续修改草稿
- 删除操作同时删除两边

## 删除机制

```python
@router.delete("/{game_id}")
async def delete_game(game_id: str, user: dict):
    delete_from_drafts(user['folder'], game_id)
    delete_from_published(user['folder'], game_id)
    delete_game_file(user['folder'], game_id)
    delete_thumbnail(user['folder'], game_id)
```
